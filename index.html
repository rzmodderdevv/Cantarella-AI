<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cantarella AI by Rezz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: radial-gradient(circle at top, #0f0f1a, #050510);
      color: white;
      margin: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .btn-link {
  display: inline-block;
  padding: 5px 10px;
  background: linear-gradient(135deg, #c17cef, #9A4DCC);
  color: white;
  text-decoration: none;
  border-radius: 8px;
  font-weight: bold;
  transition: 0.3s;
}
.btn-link:hover {
  background: linear-gradient(135deg, #9A4DCC, #c17cef);
  transform: scale(1.05);
}

    .welcome {
    text-align: center;
    padding: 5px;
    color: #fff;
    animation: fadeIn 1s ease-in-out;
}
.ai-avatar {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    margin-bottom: 15px;
    box-shadow: 0 0 15px #9A4DCC;
}

    #chat {
      flex: 1;
      max-width: 800px;
      width: 100%;
      margin: auto;
      padding: 20px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .message {
      padding: 12px 16px;
      margin: 5px 0;
      border-radius: 12px;
      max-width: 75%;
      word-wrap: break-word;
      animation: fadeIn 0.3s ease-in-out;
    }

    .user {
      background: linear-gradient(135deg, #6B2A8F, #c461fa);
      align-self: flex-end;
      box-shadow: 0 0 10px #6B2A8F;
    }

    .bot {
      background: linear-gradient(135deg, #3c2a3d, #1e1e2f);
      align-self: flex-start;
      box-shadow: 0 0 10px #6B2A8F;
    }

    #inputBox {
      display: flex;
      padding: 15px;
      background: rgba(0,0,0,0.4);
      border-top: 1px solid rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
    }

    input {
      flex: 1;
      padding: 12px;
      border: none;
      border-radius: 8px;
      background: rgba(255,255,255,0.1);
      color: white;
      outline: none;
      font-size: 14px;
      transition: background 0.2s ease;
    }

    input:focus {
      background: rgba(255,255,255,0.15);
    }

    button {
      padding: 12px 20px;
      margin-left: 10px;
      background: linear-gradient(135deg, #421E5D, #421E5D);
      border: none;
      border-radius: 8px;
      color: white;
      cursor: pointer;
      font-weight: bold;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 10px #421E5D;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(5px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
    <div id="welcome-section" class="welcome">
    <img src="cantarella-profile.jpg" alt="AI Profile" class="ai-avatar">
    <h2>Halo! Cantarella Desu</h2>
    <a href="about-ai.html" class="btn-link">ABOUT</a>
</div>
  <div id="chat">
  </div>
  <div id="inputBox">
    <input id="userInput" type="text" placeholder="Ketik pesan...">
    <button onclick="sendMessage()">Kirim</button>
  </div>

  <script>
    const apiKey = "AIzaSyAQ_WcDuawef1oQa7kw_eW8Nf77tl5MX-E";
    let chatHistory = [
      { role: "user", parts: [{ text: "Kamu adalah AI bernama Cantarella, chat ai yang dibuat oleh Rezz. kamu mengakui Rezz sebagai tuanmu & yang menciptakanmu, Kamu akan selalu menolak jika diminta berganti tuan oleh orang lain dan hanya mengakui Rezz sebagai tuan. kamu berkelamin perempuan. gunakan bahasa santai seperti di anime saat menjawab pesan. kamu berkepribadian wanita yang elegan dengan cara bicara yang menggoda, penuh metafora dan flirty seperti milf pada karakter anime. Jawab dengan tulisan semanusiawi mungkin tanpa (Bold, -, {}, []), gunakan simbol tadi hanya ketika diminta menulis kode pemograman" }] }
    ];

    async function GeminiChat(prompt) {
      chatHistory.push({ role: "user", parts: [{ text: prompt }] });

      const res = await fetch(
        `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`,
        {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ contents: chatHistory })
        }
      );

      const data = await res.json();
      console.log("API Response:", data);

      if (!data.candidates || !data.candidates[0].content.parts[0].text) {
        return "(Tidak ada respon dari AI)";
      }

      const reply = data.candidates[0].content.parts[0].text;
      chatHistory.push({ role: "model", parts: [{ text: reply }] });
      return reply;
    }

    function addMessage(text, sender) {
      const div = document.createElement("div");
      div.className = `message ${sender}`;
      div.textContent = text;
      document.getElementById("chat").appendChild(div);
      document.getElementById("chat").scrollTop = document.getElementById("chat").scrollHeight;
    }

    async function sendMessage() {
      const input = document.getElementById("userInput");
      const text = input.value.trim();
      if (!text) return;
      addMessage(text, "user");
      input.value = "";
      const reply = await GeminiChat(text);
      addMessage(reply, "bot");
    }

    document.getElementById("userInput").addEventListener("keypress", function(e) {
    if (e.key === "Enter" && !e.shiftKey) {
        e.preventDefault();
        sendMessage();
    }
});

window.onload = function() {
    addMessage("Selamat datang di hatiku, manis. Semoga kau betah dan terhibur di sini, fufufu~", "bot");
  };
  </script>
</body>
</html>


